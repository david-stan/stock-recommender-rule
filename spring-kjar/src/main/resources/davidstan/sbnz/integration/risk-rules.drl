package davidstan.sbnz.integration;

import davidstan.sbnz.integration.facts.Stocks;
import davidstan.sbnz.integration.facts.Risk;
import davidstan.sbnz.integration.models.Sector;

agenda-group "risk"

global ExternalService externalService;

rule "Stock selection rule"
    when
        $r: Risk( valid == true && risk == true && experience == true )
    then
    	$r.iterateStocks(5);
    	$r.incrementIndex();
        if ( $r.getStockIndex() == $r.getList().length ) {
        	$r.setValid(false);
        }
        update($r);
end
